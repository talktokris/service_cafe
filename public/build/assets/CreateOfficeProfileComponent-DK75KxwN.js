import{r as x,j as e,b as g}from"./app-Cy0UIO-x.js";function y({onClose:p,onSuccess:u}){const[t,h]=x.useState({companyName:"",profileType:"BranchOffice",regNo:"",address:"",phoneNo:"",contactFirstName:"",contactLastName:"",contactEmail:"",contactMobileNo:"",activeStatus:1}),[a,l]=x.useState({}),[o,i]=x.useState(!1),n=s=>{const{name:r,value:c,type:m,checked:b}=s.target;h(d=>({...d,[r]:m==="checkbox"?b:c})),a[r]&&l(d=>({...d,[r]:null}))},N=()=>{const s={};return t.companyName.trim()||(s.companyName="Company name is required"),t.contactFirstName.trim()||(s.contactFirstName="Contact first name is required"),t.contactLastName.trim()||(s.contactLastName="Contact last name is required"),t.contactEmail&&!/\S+@\S+\.\S+/.test(t.contactEmail)&&(s.contactEmail="Please enter a valid email address"),t.contactMobileNo&&!/^[0-9+\-\s()]+$/.test(t.contactMobileNo)&&(s.contactMobileNo="Please enter a valid mobile number"),t.phoneNo&&!/^[0-9+\-\s()]+$/.test(t.phoneNo)&&(s.phoneNo="Please enter a valid phone number"),l(s),Object.keys(s).length===0},f=async s=>{if(s.preventDefault(),!!N()){i(!0);try{g.post("/office-profiles",t,{onSuccess:r=>{var c;if((c=r.props.flash)!=null&&c.success&&console.log(r.props.flash.success),r.props.officeProfile)u(r.props.officeProfile);else{const m={id:Date.now(),...t,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};u(m)}},onError:r=>{l(r)},onFinish:()=>{i(!1)},preserveScroll:!0})}catch(r){console.error("Error creating office profile:",r),i(!1)}}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create New Office Profile"}),e.jsx("button",{onClick:p,className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsxs("form",{onSubmit:f,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Company Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name *"}),e.jsx("input",{type:"text",name:"companyName",value:t.companyName,onChange:n,className:`input input-bordered w-full ${a.companyName?"input-error":""}`,placeholder:"Enter company name"}),a.companyName&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.companyName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Profile Type"}),e.jsxs("select",{name:"profileType",value:t.profileType,onChange:n,className:"select select-bordered w-full",children:[e.jsx("option",{value:"BranchOffice",children:"Branch Office"}),e.jsx("option",{value:"HeadOffice",children:"Head Office"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Number"}),e.jsx("input",{type:"text",name:"regNo",value:t.regNo,onChange:n,className:"input input-bordered w-full",placeholder:"Enter registration number"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),e.jsx("input",{type:"text",name:"phoneNo",value:t.phoneNo,onChange:n,className:`input input-bordered w-full ${a.phoneNo?"input-error":""}`,placeholder:"Enter phone number"}),a.phoneNo&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.phoneNo})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),e.jsx("textarea",{name:"address",value:t.address,onChange:n,rows:"3",className:"textarea textarea-bordered w-full",placeholder:"Enter company address"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),e.jsx("input",{type:"text",name:"contactFirstName",value:t.contactFirstName,onChange:n,className:`input input-bordered w-full ${a.contactFirstName?"input-error":""}`,placeholder:"Enter first name"}),a.contactFirstName&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.contactFirstName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),e.jsx("input",{type:"text",name:"contactLastName",value:t.contactLastName,onChange:n,className:`input input-bordered w-full ${a.contactLastName?"input-error":""}`,placeholder:"Enter last name"}),a.contactLastName&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.contactLastName})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",name:"contactEmail",value:t.contactEmail,onChange:n,className:`input input-bordered w-full ${a.contactEmail?"input-error":""}`,placeholder:"Enter email address"}),a.contactEmail&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.contactEmail})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile Number"}),e.jsx("input",{type:"text",name:"contactMobileNo",value:t.contactMobileNo,onChange:n,className:`input input-bordered w-full ${a.contactMobileNo?"input-error":""}`,placeholder:"Enter mobile number"}),a.contactMobileNo&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.contactMobileNo})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Status"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"activeStatus",checked:t.activeStatus===1,onChange:s=>h(r=>({...r,activeStatus:s.target.checked?1:0})),className:"checkbox checkbox-primary mr-3"}),e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Active Profile"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:p,className:"btn btn-outline",disabled:o,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn bg-red-600 hover:bg-red-700 text-white",disabled:o,children:o?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"loading loading-spinner loading-sm mr-2"}),"Creating..."]}):"Create Profile"})]})]})]})})}export{y as default};
