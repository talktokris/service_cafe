import{r as l,j as e}from"./app-BF4HM74z.js";import P from"./CreateOfficeProfileComponent-5_UliZUU.js";import T from"./EditOfficeProfileComponent-Dzy3eMan.js";import E from"./DeleteOfficeProfileComponent-BiNQyeO5.js";function W({user:H,officeProfiles:d=[]}){const[a,c]=l.useState(d),[v,o]=l.useState(!1),[b,h]=l.useState(!1),[p,x]=l.useState(!1),[i,r]=l.useState(null),[n,w]=l.useState(""),[m,y]=l.useState("all");l.useEffect(()=>{c(d)},[d]);const j=a.filter(s=>{var f,u,g,N;const t=((f=s.companyName)==null?void 0:f.toLowerCase().includes(n.toLowerCase()))||((u=s.contactFirstName)==null?void 0:u.toLowerCase().includes(n.toLowerCase()))||((g=s.contactLastName)==null?void 0:g.toLowerCase().includes(n.toLowerCase()))||((N=s.contactEmail)==null?void 0:N.toLowerCase().includes(n.toLowerCase())),O=m==="all"||s.profileType===m;return t&&O&&s.deleteStatus===0}),C=s=>{c(t=>[...t,s]),o(!1)},k=s=>{c(a.map(t=>t.id===s.id?s:t)),h(!1),r(null)},S=s=>{c(a.map(t=>t.id===s?{...t,deleteStatus:1}:t)),x(!1),r(null)},M=s=>{r(s),h(!0)},L=s=>{r(s),x(!0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Office Profile Management"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage head offices and branch offices"})]}),e.jsxs("button",{onClick:()=>o(!0),className:"btn bg-red-600 hover:bg-red-700 text-white",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add New Profile"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Profiles"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:a.filter(s=>s.deleteStatus===0).length})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Head Offices"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:a.filter(s=>s.profileType==="HeadOffice"&&s.deleteStatus===0).length})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Branch Offices"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:a.filter(s=>s.profileType==="BranchOffice"&&s.deleteStatus===0).length})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Active Profiles"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:a.filter(s=>s.activeStatus===1&&s.deleteStatus===0).length})]})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",placeholder:"Search profiles...",value:n,onChange:s=>w(s.target.value),className:"input input-bordered w-full"})}),e.jsx("div",{className:"sm:w-48",children:e.jsxs("select",{value:m,onChange:s=>y(s.target.value),className:"select select-bordered w-full",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"HeadOffice",children:"Head Office"}),e.jsx("option",{value:"BranchOffice",children:"Branch Office"})]})})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Office Profiles (",j.length,")"]})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table table-zebra w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Company"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Contact Person"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Phone"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:j.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"text-center py-8 text-gray-500",children:"No office profiles found"})}):j.map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-bold",children:s.companyName||"N/A"}),e.jsx("div",{className:"text-sm opacity-50",children:s.regNo||"No Registration"})]})}),e.jsx("td",{children:e.jsx("span",{className:`badge ${s.profileType==="HeadOffice"?"badge-primary":"badge-secondary"}`,children:s.profileType})}),e.jsx("td",{children:e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[s.contactFirstName," ",s.contactLastName]}),e.jsx("div",{className:"text-sm opacity-50",children:s.contactMobileNo||"No Mobile"})]})}),e.jsx("td",{children:s.contactEmail||"N/A"}),e.jsx("td",{children:s.phoneNo||"N/A"}),e.jsx("td",{children:e.jsx("span",{className:`badge ${s.activeStatus===1?"badge-success":"badge-warning"}`,children:s.activeStatus===1?"Active":"Inactive"})}),e.jsx("td",{children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>M(s),className:"btn btn-ghost btn-xs text-blue-600 hover:bg-blue-50",children:"Edit"}),e.jsx("button",{onClick:()=>L(s),className:"btn btn-ghost btn-xs text-red-600 hover:bg-red-50",children:"Delete"})]})})]},s.id))})]})})})]}),v&&e.jsx(P,{onClose:()=>o(!1),onSuccess:C}),b&&i&&e.jsx(T,{profile:i,onClose:()=>{h(!1),r(null)},onSuccess:k}),p&&i&&e.jsx(E,{profile:i,onClose:()=>{x(!1),r(null)},onSuccess:S})]})}export{W as default};
