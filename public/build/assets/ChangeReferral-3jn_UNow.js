import{u as f,j as e,H as u}from"./app-Cy0UIO-x.js";import g from"./MemberDashboardLayout-CLtaa2FF.js";import b from"./Breadcrumb-65Ji4OXl.js";import"./MemberHeader-DKisl_KS.js";import"./MemberSidebar-BUy_vDtK.js";import"./PaidMemberSidebar-BPwsytp-.js";import"./FreeMemberSidebar-DrtQJGoa.js";import"./MemberFooter-XlrQ4yVu.js";function R({auth:a,user:r,flash:t}){const i=a.user.member_type||"free",{data:s,setData:d,post:c,processing:o,errors:n,reset:p}=f({referral_code:r.referral_code||""}),m=l=>{l.preventDefault(),c(route("profile.update-referral"),{onSuccess:()=>{d("referral_code",s.referral_code)}})},x=l=>{const h=l.target.value.toLowerCase().replace(/[^a-z0-9]/g,"");d("referral_code",h)};return e.jsxs(g,{title:"Change Referral Address - Serve Cafe",user:a.user,memberType:i,children:[e.jsx(u,{title:"Change Referral Address"}),e.jsxs("div",{children:[e.jsx(b,{title:"Change Referral Address",links:["Home","Change Referral"],icon:e.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),t.success&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-4 mb-6",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm font-medium text-green-800",children:t.success})})]})}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-2xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-8 text-gray-900",children:[e.jsxs("div",{className:"mb-8 bg-gray-50 p-6 rounded-lg border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Current Profile Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.first_name&&r.last_name?`${r.first_name} ${r.last_name}`:r.name||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Current Referral Address"}),e.jsx("p",{className:"mt-1 text-sm font-mono text-indigo-600 font-semibold",children:r.referral_code||"Not set"})]})]})]}),e.jsxs("form",{onSubmit:m,className:"space-y-6 border border-gray-200 rounded-lg bg-gray-50 p-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"referral_code",className:"block text-sm font-medium text-gray-700",children:"New Referral Address *"}),e.jsx("input",{id:"referral_code",type:"text",value:s.referral_code,onChange:x,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm font-mono",placeholder:"Enter your desired referral address",required:!0,minLength:3,maxLength:60,pattern:"[a-z0-9]+"}),n.referral_code&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.referral_code}),e.jsx("div",{className:"mt-2 text-xs text-gray-500",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsx("li",{children:"Must be 3-60 characters long"}),e.jsx("li",{children:"Only lowercase letters and numbers allowed"}),e.jsx("li",{children:"Must be unique (not already taken by another user)"}),e.jsxs("li",{children:["Current length:"," ",s.referral_code.length,"/60"]})]})})]}),e.jsx("div",{className:"flex items-center justify-end",children:e.jsx("button",{type:"submit",disabled:o||s.referral_code.length<3||s.referral_code.length>60,className:"inline-flex items-center px-4 py-2 bg-amber-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-amber-900 focus:bg-amber-900 active:bg-amber-900 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2 transition ease-in-out duration-150 disabled:opacity-25",children:o?"Updating...":"Update Referral Address"})})]}),e.jsx("div",{className:"mt-8 bg-yellow-50 border border-yellow-200 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Important Notice"}),e.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:e.jsx("p",{children:"Your referral code is used by others to join under your network. Choose a code that is easy to remember and share. Once changed, the old code will no longer work for new referrals."})})]})]})})]})})})})]})]})}export{R as default};
