import{r as i,u as k,j as e,H as _,L as C}from"./app-ey5GbxPF.js";import M from"./AdminDashboardLayout-Bs_PgtSa.js";import S from"./Breadcrumb-DdLp-wGo.js";import L from"./PayOutComponent-BmFUBQHm.js";import"./AdminHeader-BPzLwckL.js";import"./AdminFooter-V7mfdVBT.js";import"./AdminSidebar-B4Z8GNY1.js";import"./PrimaryButton-onXg0lqF.js";import"./TextInput-DAl3hhQD.js";import"./InputLabel-eJ4fItrx.js";function E({auth:p,transactions:x,summary:s,filters:a}){const[l,g]=i.useState((a==null?void 0:a.status)||"all");i.useEffect(()=>{a!=null&&a.status&&g(a.status)},[a==null?void 0:a.status]);const[b,m]=i.useState(!1),[j,u]=i.useState(null),{data:r,setData:n,get:c,processing:h}=k({transaction_id:(a==null?void 0:a.transaction_id)||"",user_id:(a==null?void 0:a.user_id)||"",from_date:(a==null?void 0:a.from_date)||"",to_date:(a==null?void 0:a.to_date)||"",status:(a==null?void 0:a.status)||"all"}),f=t=>{t.preventDefault(),c(route("cash.out.management"),{data:r,preserveState:!0,replace:!0})},N=()=>{n({transaction_id:"",user_id:"",from_date:"",to_date:"",status:l}),c(route("cash.out.management"),{data:{transaction_id:"",user_id:"",from_date:"",to_date:"",status:l},preserveState:!0,replace:!0})},v=t=>{u(t),m(!0)},d=t=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(t),w=t=>new Date(t).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),y=t=>t===1?e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Paid"}):e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Pending"});return e.jsxs(M,{title:"Cash Out Management - Serve Cafe",user:p.user,children:[e.jsx(_,{title:"Cash Out Management"}),e.jsxs("div",{children:[e.jsx(S,{title:"Cash Out Management",links:["Home","Cash Out Management"],icon:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 12H4m16 0l-4-4m4 4l-4 4"})})}),e.jsxs("div",{className:"p-3 sm:p-4 lg:p-6 space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-6 gap-4 sm:gap-6",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),e.jsxs("div",{className:"ml-3 sm:ml-4",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-blue-600",children:"Total Requests"}),e.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-blue-900",children:(s==null?void 0:s.total)||0})]})]})}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-6 w-6 sm:h-8 sm:w-8 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"ml-3 sm:ml-4",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-yellow-600",children:"Pending"}),e.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-yellow-900",children:(s==null?void 0:s.pending)||0})]})]})}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"ml-3 sm:ml-4",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-green-600",children:"Paid"}),e.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-green-900",children:(s==null?void 0:s.paid)||0})]})]})}),e.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-6 w-6 sm:h-8 sm:w-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),e.jsxs("div",{className:"ml-3 sm:ml-4",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-purple-600",children:"Total Amount"}),e.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-purple-900",children:d((s==null?void 0:s.total_amount)||0)})]})]})}),e.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-6 w-6 sm:h-8 sm:w-8 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),e.jsxs("div",{className:"ml-3 sm:ml-4",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-orange-600",children:"Pending Amount"}),e.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-orange-900",children:d((s==null?void 0:s.pending_amount)||0)})]})]})}),e.jsx("div",{className:"bg-teal-50 border border-teal-200 rounded-lg p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-6 w-6 sm:h-8 sm:w-8 text-teal-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),e.jsxs("div",{className:"ml-3 sm:ml-4",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-teal-600",children:"Paid Amount"}),e.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-teal-900",children:d((s==null?void 0:s.paid_amount)||0)})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[e.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-4",children:"Search Cash Out Requests"}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"transaction_id",className:"block text-sm font-medium text-gray-700 mb-2",children:"Transaction ID"}),e.jsx("input",{type:"number",id:"transaction_id",value:r.transaction_id,onChange:t=>n("transaction_id",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 text-sm",placeholder:"Enter transaction ID"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"user_id",className:"block text-sm font-medium text-gray-700 mb-2",children:"User ID"}),e.jsx("input",{type:"number",id:"user_id",value:r.user_id,onChange:t=>n("user_id",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 text-sm",placeholder:"Enter user ID"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"from_date",className:"block text-sm font-medium text-gray-700 mb-2",children:"From Date"}),e.jsx("input",{type:"date",id:"from_date",value:r.from_date,onChange:t=>n("from_date",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"to_date",className:"block text-sm font-medium text-gray-700 mb-2",children:"To Date"}),e.jsx("input",{type:"date",id:"to_date",value:r.to_date,onChange:t=>n("to_date",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 text-sm"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:N,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",disabled:h,children:"Reset"}),e.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:h,children:"Search"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8 px-6","aria-label":"Tabs",children:[{key:"all",label:"All",count:(s==null?void 0:s.total)||0},{key:"pending",label:"Pending",count:(s==null?void 0:s.pending)||0},{key:"paid",label:"Paid",count:(s==null?void 0:s.paid)||0}].map(t=>{const o=route("cash.out.management",{transaction_id:r.transaction_id,user_id:r.user_id,from_date:r.from_date,to_date:r.to_date,status:t.key});return e.jsxs(C,{href:o,className:`${l===t.key?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center cursor-pointer`,children:[t.label,e.jsx("span",{className:`${l===t.key?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-900"} ml-2 py-0.5 px-2.5 rounded-full text-xs font-medium`,children:t.count})]},t.key)})})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Transaction ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Request Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reference No"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.length>0?x.map(t=>{var o;return e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:t.id}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:((o=t.user)==null?void 0:o.name)||"N/A"}),e.jsxs("div",{className:"text-gray-500",children:["ID:"," ",t.user_id]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:d(t.amount)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:w(t.transaction_date)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:y(t.cash_out_status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.cash_out_reference_no||"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.cash_out_status===0?e.jsx("button",{onClick:()=>v(t),className:"bg-green-600 text-white px-3 py-1 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 text-xs font-medium",children:"Payout"}):e.jsx("span",{className:"text-gray-400 text-xs",children:"Processed"})})]},t.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:"No transactions found."})})})]})})]})]})]}),e.jsx(L,{isOpen:b,onClose:()=>{m(!1),u(null)},transaction:j,onPayoutSuccess:()=>{c(route("cash.out.management"),{data:r,preserveState:!0,replace:!0})}})]})}export{E as default};
