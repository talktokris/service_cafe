import{r as f,u as b,j as e}from"./app-BF4HM74z.js";function v({auth:N,orders:a,filters:s}){const[g,j]=f.useState({order_id:(s==null?void 0:s.order_id)||"",from_date:(s==null?void 0:s.from_date)||"",to_date:(s==null?void 0:s.to_date)||""}),{data:n,setData:d,get:i,processing:m}=b(g),u=t=>{t.preventDefault(),i(window.location.pathname,{data:n,preserveState:!0,replace:!0})},y=()=>{d({order_id:"",from_date:"",to_date:""}),i(window.location.pathname,{data:{order_id:"",from_date:"",to_date:""},preserveState:!0,replace:!0})},l=t=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(t),o=t=>new Date(t).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),x=t=>t.branch&&t.branch.office_name?t.branch.office_name:t.headOffice&&t.headOffice.office_name?t.headOffice.office_name:"Unknown Location",p=t=>t.creator?`${t.creator.first_name} ${t.creator.last_name}`:"Unknown Cashier",h=t=>({cash:"bg-green-100 text-green-800",online:"bg-blue-100 text-blue-800",wallet:"bg-purple-100 text-purple-800",card:"bg-indigo-100 text-indigo-800"})[t]||"bg-gray-100 text-gray-800";return e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[e.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-4",children:"Search Orders"}),e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"sm:col-span-2 lg:col-span-1",children:[e.jsx("label",{htmlFor:"order_id",className:"block text-sm font-medium text-gray-700 mb-2",children:"Order ID"}),e.jsx("input",{type:"text",id:"order_id",value:n.order_id,onChange:t=>d("order_id",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-amber-500 text-gray-900 text-sm",placeholder:"Enter order ID"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"from_date",className:"block text-sm font-medium text-gray-700 mb-2",children:"From Date"}),e.jsx("input",{type:"date",id:"from_date",value:n.from_date,onChange:t=>d("from_date",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-amber-500 text-gray-900 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"to_date",className:"block text-sm font-medium text-gray-700 mb-2",children:"To Date"}),e.jsx("input",{type:"date",id:"to_date",value:n.to_date,onChange:t=>d("to_date",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-amber-500 text-gray-900 text-sm"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3",children:[e.jsx("button",{type:"button",onClick:y,className:"w-full sm:w-auto px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500",children:"Reset"}),e.jsx("button",{type:"submit",disabled:m,className:"w-full sm:w-auto px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-amber-800 hover:bg-amber-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500 disabled:opacity-50",children:m?"Searching...":"Search"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"px-4 sm:px-6 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900",children:"Order History"}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:["Showing ",(a==null?void 0:a.length)||0," orders"]})]}),e.jsx("div",{className:"block lg:hidden",children:a&&a.length>0?e.jsx("div",{className:"divide-y divide-gray-200",children:a.map((t,c)=>{var r;return e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900 font-mono",children:["#",t.id]}),e.jsx("div",{className:"text-xs text-gray-500",children:o(t.created_at)})]}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${h(t.paymentType)}`,children:((r=t.paymentType)==null?void 0:r.toUpperCase())||"UNKNOWN"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"text-sm text-gray-900",children:[e.jsx("span",{className:"text-gray-500",children:"Location:"})," ",x(t)]}),e.jsxs("div",{className:"text-sm text-gray-900",children:[e.jsx("span",{className:"text-gray-500",children:"Cashier:"})," ",p(t)]})]}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:l(t.sellingPrice||0)})})]},t.id)})}):e.jsx("div",{className:"p-8 text-center text-sm text-gray-500",children:"No orders found"})}),e.jsx("div",{className:"hidden lg:block overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cashier"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment Type"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a&&a.length>0?a.map((t,c)=>{var r;return e.jsxs("tr",{className:c%2===0?"bg-white":"bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:["#",t.id]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o(t.created_at)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:x(t)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p(t)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium text-gray-900",children:l(t.sellingPrice||0)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${h(t.paymentType)}`,children:((r=t.paymentType)==null?void 0:r.toUpperCase())||"UNKNOWN"})})]},t.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-sm text-gray-500",children:"No orders found"})})})]})})]})]})}export{v as default};
