import{r as d,j as e,L as s}from"./app-CeALoAiy.js";function N({user:t,onMenuToggle:v,memberType:r,walletBalance:u=0}){var p,b,j,w;const[m,c]=d.useState(!1),[x,i]=d.useState(!1),h=d.useRef(null),g=d.useRef(null);return d.useEffect(()=>{function a(o){h.current&&!h.current.contains(o.target)&&c(!1),g.current&&!g.current.contains(o.target)&&i(!1)}return document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[]),e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsxs("div",{className:"px-3 sm:px-4 lg:px-8",children:[e.jsx("div",{className:"lg:hidden",children:e.jsxs("div",{className:"flex items-center justify-between h-16 px-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 min-w-0 flex-1",children:[e.jsxs("button",{type:"button",className:"p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500 touch-manipulation",onClick:v,children:[e.jsx("span",{className:"sr-only",children:"Open sidebar"}),e.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]}),e.jsx(s,{href:r==="free"?"/member-f-dashboard":"/member-p-dashboard",className:"cursor-pointer min-w-0 flex-1",children:e.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-lg flex items-center justify-center overflow-hidden flex-shrink-0",children:e.jsx("img",{src:"/assets/art-logo.png",alt:"Serve Cafe Logo",className:"w-full h-full object-contain"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h1",{className:"text-sm sm:text-lg font-bold truncate",style:{color:"#531414"},children:"SERVE CAFE"}),e.jsx("p",{className:"text-xs font-medium hidden sm:block",style:{color:"#DE3032"},children:"Member Panel"})]})]})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"relative",ref:h,children:[e.jsxs("button",{type:"button",className:"flex items-center space-x-1 text-gray-700 hover:text-gray-900 focus:outline-none p-1 rounded",onClick:()=>c(!m),children:[e.jsx("svg",{className:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),e.jsxs("span",{className:"text-xs font-bold text-green-600",children:["₹",u.toFixed(2)]})]}),m&&e.jsx("div",{className:"absolute right-0 mt-2 w-40 bg-white rounded-md shadow-lg py-1 z-50",children:e.jsx(s,{href:r==="free"?"/free-transactions":"/transactions",className:"block px-3 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>c(!1),children:"View Balance"})})]}),e.jsxs("div",{className:"relative",ref:g,children:[e.jsxs("button",{type:"button",className:"flex items-center space-x-2 hover:bg-gray-50 px-1 py-1 rounded-md focus:outline-none",onClick:()=>i(!x),children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"bg-red-600 text-white rounded-full h-7 w-7 flex items-center justify-center text-xs font-medium",children:((b=(p=t==null?void 0:t.name)==null?void 0:p.charAt(0))==null?void 0:b.toUpperCase())||"M"}),e.jsx("span",{className:"absolute -top-1 -right-1 h-2 w-2 bg-red-500 rounded-full"})]}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-xs font-medium text-gray-900 truncate max-w-20",children:(t==null?void 0:t.name)||"Member"}),e.jsxs("p",{className:"text-xs text-gray-500 capitalize",children:[r," Member"]})]})]}),x&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50",children:[e.jsx(s,{href:r==="free"?"/member-f-dashboard":"/member-p-dashboard",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Dashboard"}),e.jsx(s,{href:"/change-password",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Change Password"}),e.jsx(s,{href:"/profile-settings",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Profile Settings"}),e.jsx(s,{href:"/change-referral",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Change Referral"}),e.jsx("div",{className:"border-t border-gray-100"}),e.jsx("button",{type:"button",className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50",onMouseDown:()=>console.log("Mouse down on logout - mobile"),onTouchStart:()=>console.log("Touch start on logout - mobile"),onClick:a=>{console.log("=== LOGOUT BUTTON CLICKED - MOBILE ==="),a.preventDefault(),a.stopPropagation(),console.log("Logout clicked - mobile"),i(!1);try{console.log("Trying window.location..."),window.location.href="/logout"}catch(o){console.log("Window location failed:",o),console.log("Trying form submission...");const n=document.createElement("form");n.method="POST",n.action="/logout";const l=document.querySelector('meta[name="csrf-token"]');if(l){const f=document.createElement("input");f.type="hidden",f.name="_token",f.value=l.getAttribute("content"),n.appendChild(f)}document.body.appendChild(n),console.log("Submitting logout form..."),n.submit()}},children:"Logout"})]})]})]})]})}),e.jsx("div",{className:"hidden lg:block",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsx("div",{className:"flex items-center",children:e.jsx(s,{href:r==="free"?"/member-f-dashboard":"/member-p-dashboard",className:"cursor-pointer",children:e.jsxs("div",{className:"flex items-center space-x-3 mr-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center overflow-hidden",children:e.jsx("img",{src:"/assets/art-logo.png",alt:"Serve Cafe Logo",className:"w-full h-full object-contain"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold",style:{color:"#531414"},children:"SERVE CAFE"}),e.jsx("p",{className:"text-xs font-medium hidden sm:block",style:{color:"#DE3032"},children:"Member Panel"})]})]})})}),e.jsxs("div",{className:"flex items-center space-x-4 ml-auto",children:[e.jsxs("div",{className:"relative",ref:h,children:[e.jsxs("button",{type:"button",className:"flex items-center space-x-2 text-gray-700 hover:text-gray-900 focus:outline-none",onClick:()=>c(!m),children:[e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),e.jsx("span",{className:"text-sm font-medium",children:"Wallet"}),e.jsxs("span",{className:"text-sm font-bold text-green-600",children:["₹",u.toFixed(2)]}),e.jsx("svg",{className:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),m&&e.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50",children:e.jsx(s,{href:r==="free"?"/free-transactions":"/transactions",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>c(!1),children:"View Balance"})})]}),e.jsxs("div",{className:"relative",ref:g,children:[e.jsxs("button",{type:"button",className:"flex items-center space-x-3 hover:bg-gray-50 px-2 py-1 rounded-md focus:outline-none",onClick:()=>i(!x),children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"bg-red-600 text-white rounded-full h-8 w-8 flex items-center justify-center text-sm font-medium hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:((w=(j=t==null?void 0:t.name)==null?void 0:j.charAt(0))==null?void 0:w.toUpperCase())||"M"}),e.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 bg-red-500 rounded-full"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:(t==null?void 0:t.name)||"Member"}),e.jsxs("p",{className:"text-xs text-gray-500 capitalize",children:[r," Member"]})]}),e.jsx("svg",{className:"h-4 w-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),x&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50",children:[e.jsx(s,{href:r==="free"?"/member-f-dashboard":"/member-p-dashboard",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Dashboard"}),e.jsx(s,{href:"/change-password",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Change Password"}),e.jsx(s,{href:"/profile-settings",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Profile Settings"}),e.jsx(s,{href:"/change-referral",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Change Referral"}),e.jsx("div",{className:"border-t border-gray-100"}),e.jsx("button",{type:"button",className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50",onClick:a=>{a.preventDefault(),console.log("Logout clicked - desktop"),i(!1);const o=document.createElement("form");o.method="POST",o.action="/logout";const n=document.querySelector('meta[name="csrf-token"]');if(n){const l=document.createElement("input");l.type="hidden",l.name="_token",l.value=n.getAttribute("content"),o.appendChild(l)}document.body.appendChild(o),console.log("Submitting logout form..."),o.submit()},children:"Logout"})]})]})]})]})})]})})}export{N as default};
